<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <title>Catálogo de Receitas</title>
</head>

<body onload="preencheCatalogo()">
    <nav class="navbar navbar-expand-lg ">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">Prática 2</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="./receitas.html">Receitas</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./ordenando.html">Ordenando</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    <div class="container-fluid bg-warning" >
        <div class="pnlCatalogo flex-warp" id="pnlCatalogo">
        </div>
    </div>
    <footer>

    </footer>




    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <script>
        data = {
            123123: {
                titulo: "Brigadeiro",
                imagem: "https://th.bing.com/th/id/OIP.yC6G-cgKL85ehkvECLpw5wHaFj?pid=ImgDet&w=2048&h=1536&rs=1",
                preparo: "Em uma panela funda, acrescente o leite condensado, a margarina e o achocolatado. Cozinhe em fogo médio e mexa bem.",
                ingredientes: ["Leite condensado", "Margarina", "Chocolate em pó"]
            },
            123141: {
                titulo: "Arroz de Couve-Flor",
                imagem: "https://receitaslowcarb.com.br/wp-content/uploads/2018/01/arroz-de-couve-flor.jpg",
                preparo: "Deixe a couve-flor picada. Adicione os ingredientes e refogue bem. Adicione sal, tampe a panela e deixe cozinhar.",
                ingredientes: ["Arroz", "Couve-Flor", "Cebola Média", "Azeite"]
            },
            421312: {
                titulo: "Bolo de Café",
                imagem: "https://bing.com/th?id=OSK.ea0a1d6abea2ba978d50f6351da5d4a7",
                preparo: "Bata o açúcar, as gemas e o café. Adicione farinha e chocolate e mexa bem. Bata as claras e junte à mistura.",
                ingredientes: ["Farinha de Trigo", "Açúcar", "Chocolate em pó", "Café Coado", "Ovos"]
            }

        }

        getListaIngredientes = (dataIngredientes) => {
            
            const ul = document.createElement("ul")
            //pra cada ingrediente
            dataIngredientes.forEach(
                element => {
                    const li = document.createElement("li")
                    const litext = document.createTextNode(element)
                    li.appendChild(litext)
                    ul.appendChild(li)
                }
            )

            return ul

        }

        getCard = (data) => {
            var dataA = Object.values(data)
            let c = 0
            dataA.forEach(element => {
                

                const card = document.createElement("div")
                card.classList.add("card")

                const cardimgtop = document.createElement("img")
                cardimgtop.classList.add("card-img-top")
                cardimgtop.src = element.imagem
                card.appendChild(cardimgtop)
                
                
                const cardbody = document.createElement("div")
                cardbody.classList.add("card-body")
                const cardbodytext = document.createElement("h1")
                cardbodytext.classList.add("card-title") 
                const cardbodytitle = document.createTextNode(element.titulo)
                //o createTextNode não aceita classList, ent eu tive que fzr
                //um h1, aplicar a classe a ele e adicionar um TextNode ao h1

                cardbodytext.appendChild(cardbodytitle)
                cardbody.appendChild(cardbodytext)
                card.appendChild(cardbody)

                const cardtext = document.createElement("div")
                cardtext.classList.add("card-text")
                card.appendChild(cardtext)

                const lista = getListaIngredientes(dataA[c].ingredientes)
                card.appendChild(lista)

                const hr = document.createElement("hr")
                card.appendChild(hr)

                const receita = document.createElement("p")
                const receitatexto = document.createTextNode(dataA[c].preparo)
                receita.classList.add("card-text")
                receita.appendChild(receitatexto)
                card.appendChild(receita)


                document.getElementById("pnlCatalogo").appendChild(card)


                c++
            })


        }
       

        preencheCatalogo = () => {
            getCard(data)
            

        }


    </script>
</body>

</html>

<style>


    .card {
        width: 250px;
        height: 600px;
    }

    #pnlCatalogo{
        display: flex;
        flex-direction: row;
        justify-content: space-evenly;
        padding-bottom: 2%;
        
    }
    footer{
        background-color: red;
        height: 100px;
    }
    nav{
        background-color: red;
    }


    
</style>